<app-header color="primary" title="Login"></app-header>
<ion-content>
  <div class="container">
    <ion-card>
      <div class="d-flex-center">
        <app-logo></app-logo>
        <form [formGroup]="form">
          <!-- ====== EMAIL =====  -->
          <app-custom-input
            autocomplete="email"
            type="email"
            [control]="form.controls.email"
            icon="mail-outline"
          ></app-custom-input>

          @if(form.get('email')?.hasError('required') &&
          form.get('email')?.touched){
          <ion-text color="danger"> Esse campo é obrigatório! </ion-text>
          } @if(form.get('email')?.hasError('email') &&
          form.get('email')?.touched){
          <ion-text color="danger"> Insira um Email válido! </ion-text>
          }

          <!-- ======= PASSWORD ====== -->
          <app-custom-input
            type="password"
            [control]="form.controls.password"
            icon="lock-closed-outline"
          ></app-custom-input>

          @if(form.get('password')?.hasError('required') &&
          form.get('password')?.touched){
          <ion-text color="danger"> Esse campo é obrigatório! </ion-text>
          } @if(form.get('password')?.hasError('minlength') &&
          form.get('password')?.touched){
          <ion-text color="danger">
            A senha deve ter pelo menos 8 caracteres
          </ion-text>
          }
          <ion-button
            (click)="submit()"
            class="ion-margin-top"
            expand="block"
            fill="solid"
            color="primary"
            [disabled]="form.invalid"
          >
            ENTRAR
          </ion-button>
        </form>
      </div>
    </ion-card>
  </div>
</ion-content>
